<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace에는 DAO가 있는 위치를 지정한다. -->
<mapper namespace="com.project.greenbook.dao.MemberDAO">
    <!-- id에는 메서드 명을 넣는다. -->
    <select id="list" resultType="com.project.greenbook.dto.MemberDTO">
        SELECT * FROM member
    </select>

    <!-- parameterType에 hashmap이라고 지정한다. 이후에 변수에는 #{param1}과 같은 형식이 아닌 변수 명을 적는다. -->
    <insert id="register" parameterType="hashmap">
        INSERT INTO member(member_id, member_pwd, member_pwd_cnf, member_phone, member_name, member_email, member_postcode, member_address, member_extraAddress, member_detailAddress) VALUES (#{member_id}, #{member_pwd}, #{member_pwd_cnf}, #{member_phone}, #{member_name}, #{member_email}, #{member_postcode}, #{member_address}, #{member_extraAddress}, #{member_detailAddress})
    </insert>

    <select id="memberView" resultType="com.project.greenbook.dto.MemberDTO">
        SELECT member_id, member_name FROM book WHERE member_id = #{member_id}
    </select>

</mapper>
